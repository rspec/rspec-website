<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: RSpec::Matchers::DSL
    &mdash; Documentation by YARD 0.9.16
</title>
  <link rel="stylesheet" href="/documentation/3.8/rspec-expectations/css/style.css" type="text/css" charset="utf-8" />
  <link rel="stylesheet" href="/documentation/3.8/rspec-expectations/css/common.css" type="text/css" charset="utf-8" />
<script type="text/javascript" charset="utf-8">
  pathId = "RSpec::Matchers::DSL";
  relpath = '../../';
</script>
  <script type="text/javascript" charset="utf-8" src="/documentation/3.8/rspec-expectations/js/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="/documentation/3.8/rspec-expectations/js/app.js"></script>
  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>
    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
    <a href="../../_index.html">Index (D)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">Matchers</a></span></span>
     &raquo; 
    <span class="title">DSL</span>
</div>
        <div id="search">
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
</div>
        <div class="clear"></div>
      </div>
      <div id="content"><h1>Module: RSpec::Matchers::DSL
</h1>
<div class="box_info">
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">RSpec::Matchers</a></span></dd>
  </dl>
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rspec/matchers/dsl.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Defines the custom matcher DSL.</p>
  </div>
</div>
<div class="tags">
</div><h2>Defined Under Namespace</h2>
<p class="children">
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="DSL/DefaultImplementations.html" title="RSpec::Matchers::DSL::DefaultImplementations (module)">DefaultImplementations</a></span>, <span class='object_link'><a href="DSL/Macros.html" title="RSpec::Matchers::DSL::Macros (module)">Macros</a></span>
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="DSL/Matcher.html" title="RSpec::Matchers::DSL::Matcher (class)">Matcher</a></span>
</p>
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>
    <ul class="summary">
        <li class="public ">
  <span class="summary_signature">
      <a href="#alias_matcher-instance_method" title="#alias_matcher (instance method)">#<strong>alias_matcher</strong>(new_name, old_name, options = {}) {|String| ... } &#x21d2; Object </a>
  </span>
    <span class="summary_desc"><div class='inline'><p>Defines a matcher alias.</p>
</div></span>
</li>
        <li class="public ">
  <span class="summary_signature">
      <a href="#define-instance_method" title="#define (instance method)">#<strong>define</strong>(name) {|Object| ... } &#x21d2; Object </a>
      (also: #matcher)
  </span>
    <span class="summary_desc"><div class='inline'><p>Defines a custom matcher.</p>
</div></span>
</li>
        <li class="public ">
  <span class="summary_signature">
      <a href="#define_negated_matcher-instance_method" title="#define_negated_matcher (instance method)">#<strong>define_negated_matcher</strong>(negated_name, base_name) {|String| ... } &#x21d2; Object </a>
  </span>
    <span class="summary_desc"><div class='inline'><p>Defines a negated matcher.</p>
</div></span>
</li>
    </ul>
  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
      <div class="method_details first">
  <h3 class="signature first" id="alias_matcher-instance_method">
    #<strong>alias_matcher</strong>(new_name, old_name, options = {}) {|String| ... } &#x21d2; <tt>Object</tt> 
</h3><div class="docstring">
  <div class="discussion">
    <p>Defines a matcher alias. The returned matcher&#39;s <code>description</code> will be overriden
to reflect the phrasing of the new name, which will be used in failure messages
when passed as an argument to another matcher in a composed matcher expression.</p>
  </div>
</div>
<div class="tags">
  <div class="examples">
    <p class="tag_title">Examples:</p>
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">Matchers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_alias_matcher'><span class='object_link'><a href="../Matchers.html#alias_matcher-class_method" title="RSpec::Matchers.alias_matcher (method)">alias_matcher</a></span></span> <span class='symbol'>:a_list_that_sums_to</span><span class='comma'>,</span> <span class='symbol'>:sum_to</span>
<span class='id identifier rubyid_sum_to'>sum_to</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='comment'># =&gt; &quot;sum to 3&quot;
</span><span class='id identifier rubyid_a_list_that_sums_to'>a_list_that_sums_to</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='comment'># =&gt; &quot;a list that sums to 3&quot;</span></code></pre>
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">Matchers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_alias_matcher'><span class='object_link'><a href="../Matchers.html#alias_matcher-class_method" title="RSpec::Matchers.alias_matcher (method)">alias_matcher</a></span></span> <span class='symbol'>:a_list_sorted_by</span><span class='comma'>,</span> <span class='symbol'>:be_sorted_by</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_description'>description</span><span class='op'>|</span>
  <span class='id identifier rubyid_description'>description</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>be sorted by</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a list sorted by</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_be_sorted_by'>be_sorted_by</span><span class='lparen'>(</span><span class='symbol'>:age</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='comment'># =&gt; &quot;be sorted by age&quot;
</span><span class='id identifier rubyid_a_list_sorted_by'>a_list_sorted_by</span><span class='lparen'>(</span><span class='symbol'>:age</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='comment'># =&gt; &quot;a list sorted by age&quot;</span></code></pre>
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
    <li>
        <span class='name'>new_name</span>
        <span class='type'>(<tt>Symbol</tt>)</span>
        &mdash;
        <div class='inline'><p>the new name for the matcher</p>
</div>
    </li>
    <li>
        <span class='name'>old_name</span>
        <span class='type'>(<tt>Symbol</tt>)</span>
        &mdash;
        <div class='inline'><p>the original name for the matcher</p>
</div>
    </li>
    <li>
        <span class='name'>options</span>
        <span class='type'>(<tt>Hash</tt>)</span>
        <em class="default">(defaults to: <tt>{}</tt>)</em>
        &mdash;
        <div class='inline'><p>options for the aliased matcher</p>
</div>
    </li>
</ul>
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
        <li>
          <span class="name">:klass</span>
          <span class="type">(<tt>Class</tt>)</span>
          <span class="default">
          </span>
            &mdash; <div class='inline'><p>the ruby class to use as the decorator. (Not normally used).</p>
</div>
        </li>
    </ul>
<p class="tag_title">Yields:</p>
<ul class="yield">
    <li>
        <span class='type'>(<tt>String</tt>)</span>
        &mdash;
        <div class='inline'><p>optional block that, when given, is used to define the overriden
logic. The yielded arg is the original description or failure message. If no
block is provided, a default override is used based on the old and new names.</p>
</div>
    </li>
</ul>
  <p class="tag_title">See Also:</p>
  <ul class="see">
      <li><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">RSpec::Matchers</a></span></li>
  </ul>
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/matchers/dsl.rb', line 30</span>
<span class='kw'>def</span> <span class='id identifier rubyid_alias_matcher'>alias_matcher</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_description_override'>description_override</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_description_override'>description_override</span> <span class='op'>||=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_old_desc'>old_desc</span><span class='op'>|</span>
    <span class='id identifier rubyid_old_desc'>old_desc</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="EnglishPhrasing.html" title="RSpec::Matchers::EnglishPhrasing (module)">EnglishPhrasing</a></span></span><span class='period'>.</span><span class='id identifier rubyid_split_words'><span class='object_link'><a href="EnglishPhrasing.html#split_words-class_method" title="RSpec::Matchers::EnglishPhrasing.split_words (method)">split_words</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_old_name'>old_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="EnglishPhrasing.html" title="RSpec::Matchers::EnglishPhrasing (module)">EnglishPhrasing</a></span></span><span class='period'>.</span><span class='id identifier rubyid_split_words'><span class='object_link'><a href="EnglishPhrasing.html#split_words-class_method" title="RSpec::Matchers::EnglishPhrasing.split_words (method)">split_words</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:klass</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'><span class='object_link'><a href="AliasedMatcher.html" title="RSpec::Matchers::AliasedMatcher (class)">AliasedMatcher</a></span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
    <span class='id identifier rubyid_matcher'>matcher</span> <span class='op'>=</span> <span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_matcher'>matcher</span><span class='period'>.</span><span class='id identifier rubyid_matcher_name'>matcher_name</span> <span class='op'>=</span> <span class='id identifier rubyid_new_name'>new_name</span> <span class='kw'>if</span> <span class='id identifier rubyid_matcher'>matcher</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:matcher_name=</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_matcher'>matcher</span><span class='comma'>,</span> <span class='id identifier rubyid_description_override'>description_override</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
      <div class="method_details ">
  <h3 class="signature " id="define-instance_method">
    #<strong>define</strong>(name) {|Object| ... } &#x21d2; <tt>Object</tt> 
    <span class="aliases">Also known as:
    <span class="names"><span id='matcher-instance_method'>matcher</span></span>
    </span>
</h3><div class="docstring">
  <div class="discussion">
    <p>Defines a custom matcher.</p>
  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
    <li>
        <span class='name'>name</span>
        <span class='type'>(<tt>Symbol</tt>)</span>
        &mdash;
        <div class='inline'><p>the name for the matcher</p>
</div>
    </li>
</ul>
<p class="tag_title">Yields:</p>
<ul class="yield">
    <li>
        <span class='type'>(<tt>Object</tt>)</span>
        &mdash;
        <div class='inline'><p>block that is used to define the matcher.
The block is evaluated in the context of your custom matcher class.
When args are passed to your matcher, they will be yielded here,
usually representing the expected value(s).</p>
</div>
    </li>
</ul>
  <p class="tag_title">See Also:</p>
  <ul class="see">
      <li><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">RSpec::Matchers</a></span></li>
  </ul>
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">
70
71
72
73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/matchers/dsl.rb', line 70</span>
<span class='kw'>def</span> <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_declarations'>declarations</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_warn_about_block_args'>warn_about_block_args</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_declarations'>declarations</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define_method'>define_method</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_expected'>expected</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block_arg'>block_arg</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">Matchers</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="RSpec::Matchers::DSL (module)">DSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DSL/Matcher.html" title="RSpec::Matchers::DSL::Matcher (class)">Matcher</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DSL/Matcher.html#initialize-instance_method" title="RSpec::Matchers::DSL::Matcher#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_declarations'>declarations</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_expected'>expected</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block_arg'>block_arg</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
      <div class="method_details ">
  <h3 class="signature " id="define_negated_matcher-instance_method">
    #<strong>define_negated_matcher</strong>(negated_name, base_name) {|String| ... } &#x21d2; <tt>Object</tt> 
</h3><div class="docstring">
  <div class="discussion">
    <p>Defines a negated matcher. The returned matcher&#39;s <code>description</code> and <code>failure_message</code>
will be overriden to reflect the phrasing of the new name, and the match logic will
be based on the original matcher but negated.</p>
  </div>
</div>
<div class="tags">
  <div class="examples">
    <p class="tag_title">Examples:</p>
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">Matchers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_negated_matcher'><span class='object_link'><a href="../Matchers.html#define_negated_matcher-class_method" title="RSpec::Matchers.define_negated_matcher (method)">define_negated_matcher</a></span></span> <span class='symbol'>:exclude</span><span class='comma'>,</span> <span class='symbol'>:include</span>
<span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='comment'># =&gt; &quot;include 1 and 2&quot;
</span><span class='id identifier rubyid_exclude'>exclude</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='comment'># =&gt; &quot;exclude 1 and 2&quot;</span></code></pre>
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
    <li>
        <span class='name'>negated_name</span>
        <span class='type'>(<tt>Symbol</tt>)</span>
        &mdash;
        <div class='inline'><p>the name for the negated matcher</p>
</div>
    </li>
    <li>
        <span class='name'>base_name</span>
        <span class='type'>(<tt>Symbol</tt>)</span>
        &mdash;
        <div class='inline'><p>the name of the original matcher that will be negated</p>
</div>
    </li>
</ul>
<p class="tag_title">Yields:</p>
<ul class="yield">
    <li>
        <span class='type'>(<tt>String</tt>)</span>
        &mdash;
        <div class='inline'><p>optional block that, when given, is used to define the overriden
logic. The yielded arg is the original description or failure message. If no
block is provided, a default override is used based on the old and new names.</p>
</div>
    </li>
</ul>
  <p class="tag_title">See Also:</p>
  <ul class="see">
      <li><span class='object_link'><a href="../Matchers.html" title="RSpec::Matchers (module)">RSpec::Matchers</a></span></li>
  </ul>
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec/matchers/dsl.rb', line 58</span>
<span class='kw'>def</span> <span class='id identifier rubyid_define_negated_matcher'>define_negated_matcher</span><span class='lparen'>(</span><span class='id identifier rubyid_negated_name'>negated_name</span><span class='comma'>,</span> <span class='id identifier rubyid_base_name'>base_name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_description_override'>description_override</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_alias_matcher'>alias_matcher</span><span class='lparen'>(</span><span class='id identifier rubyid_negated_name'>negated_name</span><span class='comma'>,</span> <span class='id identifier rubyid_base_name'>base_name</span><span class='comma'>,</span> <span class='symbol'>:klass</span> <span class='op'>=&gt;</span> <span class='const'>AliasedNegatedMatcher</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_description_override'>description_override</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  </div>
</div>
      <div id="footer">
  Generated on Fri Sep 14 00:02:02 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.5.1).
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');
</script>
    </div>
  </body>
</html>
